<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio - Kelleher Innovations</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.js"></script>
<style>
  /* Two-column layout for cards + text */
  .psg-section.active {
    display: flex;
    justify-content: space-between;
    gap: 25px;
    margin: 30px auto;
    padding: 20px;
  }

  .left {
    flex: 1;
    min-width: 300px;
    overflow-y: auto;
  }

  .right {
    flex: 2;
    min-width: 600px;
    height: 80vh;
  }

  #game-container {
    width: 100%;
    height: 100%;
  }
</style>
</head>
<body>
<header>
  <h1>Roulette Games</h1>
  <nav>
    <a href="index.html">Home</a>
  </nav>
</header>

<main>
  <section class="psg-section active">
    <div class="left">
      <h2>Hi Lo Rio</h2>
      <ul>
        <details>
            <summary>Intro</summary>
            <p>Hello</p>
        </details>
        <details>
            <summary>Rules</summary>
            <p>Hello</p>
        </details>
        <details>
            <summary>Objective</summary>
            <p>Hello</p>
        </details>
      </ul>
      <p>More projects coming soon!</p>
    </div>

    <div class="right" id="game-container"></div>
  </section>
</main>

<footer>
  <p>&copy; 2025 Roulette Games</p>
</footer>

<script>
window.onload = () => {
    const right = document.querySelector('.right');

    const config = {
        type: Phaser.AUTO,
        width: 900,
        height: 700,
        backgroundColor: 0x228B22,
        parent: 'game-container',
        scene: { preload, create }
    };

    new Phaser.Game(config);

};

// ----- Card Game Setup -----
const rows = 5;
const cols = 13;
const cardWidth = 60;
const cardHeight = 90;
const spacingX = 70;
const spacingY = 110;

const suits = ["hearts","diamonds","clubs","spades"];
const values = ["ace","2","3","4","5","6","7","8","9","10","jack","queen","king"];

let cards = [];

function preload() {
    for (let suit of suits) {
        for (let value of values) {
            const key = `${value}_of_${suit}`;
            this.load.image(key, `assets/cards/${key}.png`);
        }
    }
    this.load.image('back', 'assets/cards/back.png');
}

function create() {
    let startX = 50;
    let startY = 50;
    let index = 0;

    for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {

            if (index >= suits.length * values.length) return;

            let suit = suits[Math.floor(index / values.length)];
            let value = values[index % values.length];
            let frontKey = `${value}_of_${suit}`;

            let card = this.add.image(startX + c * spacingX, startY + r * spacingY, frontKey)
                .setDisplaySize(cardWidth, cardHeight)
                .setInteractive();

            card.frontKey = frontKey;
            card.isFaceUp = true;

            card.on('pointerdown', function() {
                this.isFaceUp = !this.isFaceUp;
                this.setTexture(this.isFaceUp ? this.frontKey : 'back');
            });

            cards.push(card);
            index++;
        }
    }
}
</script>
</body>
</html>
