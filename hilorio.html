<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RuleIt Games</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="header-inner">
    <h1>RuleIt Games</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="#">Store</a>
      <a href="#">Games</a>
      <a href="#">News</a>
      <a href="#">Support</a>
    </nav>
  </div>
</header>

<main>
  <div id="game-container"></div>
</main>

<!-- FOOTER -->
<footer class="footer">
  <div class="footer-col">
    <h4>Store</h4>
    <a href="#">Browse</a>
    <a href="#">New Releases</a>
    <a href="#">Top Games</a>
  </div>

  <div class="footer-col">
    <h4>Company</h4>
    <a href="aboutus.html">About</a>
    <a href="#">Careers</a>
    <a href="#">Press</a>
  </div>

  <div class="footer-col">
    <h4>Support</h4>
    <a href="#">Help Center</a>
    <a href="#">Contact</a>
    <a href="#">Community</a>
  </div>

  <div class="footer-col">
    <h4>Legal</h4>
    <a href="#">Privacy Policy</a>
    <a href="#">Terms of Service</a>
  </div>
</footer>

</body>
</html>


<!-- ===== PHASER GAME ===== -->
<script>
const config = {
  type: Phaser.AUTO,
  parent: 'game-container',
  backgroundColor: 0x1b5e20,
  scale: {
    mode: Phaser.Scale.FIT,
    autoCenter: Phaser.Scale.CENTER_BOTH,
    width: 1100,
    height: 700
  },
  scene: { preload, create }
};

new Phaser.Game(config);

const rows = 5;
const cols = 13;
const cardWidth = 65;
const cardHeight = 95;
const spacingX = 80;
const spacingY = 120;

const suits = ["hearts","diamonds","clubs","spades"];
const values = ["ace","2","3","4","5","6","7","8","9","10","jack","queen","king"];

function preload() {
  for (let suit of suits) {
    for (let value of values) {
      this.load.image(
        `${value}_of_${suit}`,
        `assets/cards/${value}_of_${suit}.png`
      );
    }
  }
  this.load.image('back', 'assets/cards/back.png');
}

function create() {

  const gridWidth  = (cols - 1) * spacingX + cardWidth;
  const gridHeight = (rows - 1) * spacingY + cardHeight;

  const x0 = (this.scale.width  - gridWidth)  / 2;
  const y0 = (this.scale.height - gridHeight) / 2;

  let i = 0;

  for (let r = 0; r < rows; r++) {
    for (let c = 0; c < cols; c++) {
      if (i >= suits.length * values.length) return;

      const suit = suits[Math.floor(i / values.length)];
      const value = values[i % values.length];
      const key = `${value}_of_${suit}`;

      const card = this.add.image(
        x0 + c * spacingX,
        y0 + r * spacingY,
        key
      )
      .setDisplaySize(cardWidth, cardHeight)
      .setInteractive({ useHandCursor: true });

      card.front = key;
      card.faceUp = true;
      card.baseScale = card.scale;

      // Hover zoom (desktop only)
      if (!this.sys.game.device.input.touch) {
        card.on('pointerover', () => {
          this.tweens.add({
            targets: card,
            scale: card.baseScale * 1.25,
            duration: 150,
            ease: 'Power2'
          });
        });

        card.on('pointerout', () => {
          this.tweens.add({
            targets: card,
            scale: card.baseScale,
            duration: 150,
            ease: 'Power2'
          });
        });
      }

      // Flip animation
      card.on('pointerdown', () => {
        this.tweens.add({
          targets: card,
          scaleX: 0,
          duration: 150,
          ease: 'Linear',
          onComplete: () => {
            card.faceUp = !card.faceUp;
            card.setTexture(card.faceUp ? card.front : 'back');

            this.tweens.add({
              targets: card,
              scaleX: card.baseScale,
              duration: 150,
              ease: 'Linear'
            });
          }
        });
      });

      i++;
    }
  }
}
</script>

</body>
</html>
